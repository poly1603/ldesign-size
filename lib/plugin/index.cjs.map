{"version":3,"file":"index.cjs","sources":["../../src/plugin/index.ts"],"sourcesContent":[null],"names":["SizePluginSymbol","Symbol","isRef","v","useSmartLocale","options","locale","ref","injected","inject","value","defaultLocale","window","stored","localStorage","getItem","localeHandler","e","customEvent","detail","addEventListener","_cleanup","removeEventListener","createSizePlugin","currentLocale","localeCache","getLocaleData","key","data","getLocale","localeMessages","mergedOptions","defaultSize","presets","storageKey","persistence","storage","hooks","autoDetect","cssVariables","manager","SizeManager","currentSize","error","onError","setItem","removeItem","setSize","size","oldSize","getCurrentSize","beforeChange","shouldContinue","Error","afterChange","getSize","listeners","Set","cleanupFunctions","unsubscribe","onChange","newSize","forEach","listener","push","add","delete","destroy","clear","cleanup","length","plugin","install","app","sharedLocale","_context","provides","undefined","provide","SIZE_MANAGER_KEY","for","getConfig","getCurrentPreset","setBaseSize","baseSize","applyPreset","presetName","getPresets","subscribe","config","globalProperties","$size","$sizeManager"],"mappings":"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"}