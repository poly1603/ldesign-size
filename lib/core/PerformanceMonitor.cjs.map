{"version":3,"file":"PerformanceMonitor.cjs","sources":["../../src/core/PerformanceMonitor.ts"],"sourcesContent":[null],"names":["PerformanceMonitor","constructor","metrics","Map","startTimes","getInstance","instance","startTiming","operation","set","performance","now","endTiming","startTime","get","undefined","console","warn","duration","delete","recordMetric","name","value","getMemoryUsage","window","memory","usedJSHeapSize","totalJSHeapSize","jsHeapSizeLimit","countDOMNodes","document","querySelectorAll","length","countCSSRules","count","Array","from","styleSheets","forEach","sheet","cssRules","getReport","SizePool","globalThis","__sizePool","poolStats","getStats","hitRate","memoryUsage","cacheStats","sizePoolHitRate","cssCache","fluidSizeCache","timing","cssGeneration","sizeCalculation","viewportUpdate","counts","domNodes","listeners","pooledObjects","poolSize","logReport","report","group","log","toFixed","groupEnd","reset","clear","compareSnapshots","before","after","memoryDiff","sign","hitRateDiff","timingDiff","css","size","viewport","performanceMonitor","perf","start","end","record"],"mappings":";;;;;;;;;;;MA8BaA,kBAAAA,CAAkB;AAAA,EAA/BC,WAAAA,GAAA;AAEU,IAAA,IAAA,CAAAC,OAAAA,uBAAmCC,GAAAA,EAAG;AACtC,IAAA,IAAA,CAAAC,UAAAA,uBAAsCD,GAAAA,EAAG;AAAA,EA6LnD;AAAA,EA3LE,OAAOE,WAAAA,GAAW;AAChB,IAAA,IAAI,CAACL,mBAAmBM,QAAAA,EAAU;AAChCN,MAAAA,kBAAAA,CAAmBM,QAAAA,GAAW,IAAIN,kBAAAA;IACpC;AACA,IAAA,OAAOA,kBAAAA,CAAmBM,QAAAA;AAAAA,EAC5B;AAAA;AAAA;AAAA;AAAA,EAKAC,YAAYC,SAAAA,EAAiB;AAC3B,IAAA,IAAA,CAAKJ,UAAAA,CAAWK,GAAAA,CAAID,SAAAA,EAAWE,WAAAA,CAAYC,KAAK,CAAA;AAAA,EAClD;AAAA;AAAA;AAAA;AAAA,EAKAC,UAAUJ,SAAAA,EAAiB;AACzB,IAAA,MAAMK,SAAAA,GAAY,IAAA,CAAKT,UAAAA,CAAWU,GAAAA,CAAIN,SAAS,CAAA;AAC/C,IAAA,IAAIK,cAAcE,MAAAA,EAAW;AAC3BC,MAAAA,OAAAA,CAAQC,IAAAA,CAAK,CAAA,kDAAA,EAAqDT,SAAS,CAAA,CAAE,CAAA;AAC7E,MAAA,OAAO,CAAA;AAAA,IACT;AAEA,IAAA,MAAMU,QAAAA,GAAWR,WAAAA,CAAYC,GAAAA,EAAG,GAAKE,SAAAA;AACrC,IAAA,IAAA,CAAKX,OAAAA,CAAQO,GAAAA,CAAID,SAAAA,EAAWU,QAAQ,CAAA;AACpC,IAAA,IAAA,CAAKd,UAAAA,CAAWe,OAAOX,SAAS,CAAA;AAEhC,IAAA,OAAOU,QAAAA;AAAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKAE,YAAAA,CAAaC,MAAcC,KAAAA,EAAa;AACtC,IAAA,IAAA,CAAKpB,OAAAA,CAAQO,GAAAA,CAAIY,IAAAA,EAAMC,KAAK,CAAA;AAAA,EAC9B;AAAA;AAAA;AAAA;AAAA,EAKQC,cAAAA,GAAc;AACpB,IAAA,IAAI,OAAOC,MAAAA,KAAW,WAAA,IAAe,QAAA,IAAYd,WAAAA,EAAa;AAC5D,MAAA,MAAMe,SAAUf,WAAAA,CAAoBe,MAAAA;AACpC,MAAA,OAAO;AAAA,QACLC,gBAAgBD,MAAAA,CAAOC,cAAAA;AAAAA,QACvBC,iBAAiBF,MAAAA,CAAOE,eAAAA;AAAAA,QACxBC,iBAAiBH,MAAAA,CAAOG;AAAAA;IAE5B;AACA,IAAA,OAAO,IAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKQC,aAAAA,GAAa;AACnB,IAAA,IAAI,OAAOC,QAAAA,KAAa,WAAA,EAAa,OAAO,CAAA;AAC5C,IAAA,OAAOA,QAAAA,CAASC,gBAAAA,CAAiB,GAAG,CAAA,CAAEC,MAAAA;AAAAA,EACxC;AAAA;AAAA;AAAA;AAAA,EAKQC,aAAAA,GAAa;AACnB,IAAA,IAAI,OAAOH,QAAAA,KAAa,WAAA,EAAa,OAAO,CAAA;AAE5C,IAAA,IAAII,KAAAA,GAAQ,CAAA;AACZC,IAAAA,KAAAA,CAAMC,IAAAA,CAAKN,QAAAA,CAASO,WAAW,CAAA,CAAEC,QAAQC,CAAAA,KAAAA,KAAQ;AAC/C,MAAA,IAAI;AACFL,QAAAA,KAAAA,IAASK,KAAAA,CAAMC,UAAUR,MAAAA,IAAU,CAAA;AAAA,MACrC,CAAA,CAAA,MAAQ;AAAA,MACN;AAAA,IAEJ,CAAC,CAAA;AAED,IAAA,OAAOE,KAAAA;AAAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKAO,SAAAA,GAAS;AACP,IAAA,MAAMhB,MAAAA,GAAS,KAAKF,cAAAA;AAGpB,IAAA,MAAMmB,WAAYC,UAAAA,CAAmBC,UAAAA;AACrC,IAAA,MAAMC,SAAAA,GAAYH,QAAAA,EAAUI,QAAAA,IAAU,IAAM;AAAA,MAAEC,OAAAA,EAAS;AAAA;AAEvD,IAAA,OAAO;AAAA,MACLC,aAAavB,MAAAA,IAAU;AAAA,QACrBC,cAAAA,EAAgB,CAAA;AAAA,QAChBC,eAAAA,EAAiB,CAAA;AAAA,QACjBC,eAAAA,EAAiB;AAAA,OAClB;AAAA,MACDqB,UAAAA,EAAY;AAAA,QACVC,iBAAiBL,SAAAA,CAAUE,OAAAA;AAAAA,QAC3BI,QAAAA,EAAU,IAAA,CAAKjD,OAAAA,CAAQY,GAAAA,CAAI,cAAc,CAAA,IAAK,CAAA;AAAA,QAC9CsC,cAAAA,EAAgB,IAAA,CAAKlD,OAAAA,CAAQY,GAAAA,CAAI,gBAAgB,CAAA,IAAK;AAAA,OACvD;AAAA,MACDuC,MAAAA,EAAQ;AAAA,QACNC,aAAAA,EAAe,IAAA,CAAKpD,OAAAA,CAAQY,GAAAA,CAAI,eAAe,CAAA,IAAK,CAAA;AAAA,QACpDyC,eAAAA,EAAiB,IAAA,CAAKrD,OAAAA,CAAQY,GAAAA,CAAI,iBAAiB,CAAA,IAAK,CAAA;AAAA,QACxD0C,cAAAA,EAAgB,IAAA,CAAKtD,OAAAA,CAAQY,GAAAA,CAAI,gBAAgB,CAAA,IAAK;AAAA,OACvD;AAAA,MACD2C,MAAAA,EAAQ;AAAA,QACNC,QAAAA,EAAU,KAAK7B,aAAAA,EAAa;AAAA,QAC5BW,QAAAA,EAAU,KAAKP,aAAAA,EAAa;AAAA,QAC5B0B,SAAAA,EAAW,IAAA,CAAKzD,OAAAA,CAAQY,GAAAA,CAAI,eAAe,CAAA,IAAK,CAAA;AAAA,QAChD8C,aAAAA,EAAef,UAAUgB,QAAAA,IAAY;AAAA;AACtC;EAEL;AAAA;AAAA;AAAA;AAAA,EAKAC,SAAAA,GAAS;AACP,IAAA,MAAMC,MAAAA,GAAS,KAAKtB,SAAAA;AAEpBzB,IAAAA,OAAAA,CAAQgD,MAAM,8BAAuB,CAAA;AAErC,IAAA,IAAID,OAAOf,WAAAA,EAAa;AACtBhC,MAAAA,OAAAA,CAAQgD,MAAM,cAAc,CAAA;AAC5BhD,MAAAA,OAAAA,CAAQiD,GAAAA,CAAI,CAAA,WAAA,EAAA,CAAeF,MAAAA,CAAOf,WAAAA,CAAYtB,cAAAA,GAAiB,OAAO,IAAA,EAAMwC,OAAAA,CAAQ,CAAC,CAAC,CAAA,GAAA,CAAK,CAAA;AAC3FlD,MAAAA,OAAAA,CAAQiD,GAAAA,CAAI,CAAA,YAAA,EAAA,CAAgBF,MAAAA,CAAOf,WAAAA,CAAYrB,eAAAA,GAAkB,OAAO,IAAA,EAAMuC,OAAAA,CAAQ,CAAC,CAAC,CAAA,GAAA,CAAK,CAAA;AAC7FlD,MAAAA,OAAAA,CAAQiD,GAAAA,CAAI,CAAA,YAAA,EAAA,CAAgBF,MAAAA,CAAOf,WAAAA,CAAYpB,eAAAA,GAAkB,OAAO,IAAA,EAAMsC,OAAAA,CAAQ,CAAC,CAAC,CAAA,GAAA,CAAK,CAAA;AAC7FlD,MAAAA,OAAAA,CAAQmD,QAAAA,EAAQ;AAAA,IAClB;AAEAnD,IAAAA,OAAAA,CAAQgD,MAAM,mBAAmB,CAAA;AACjChD,IAAAA,OAAAA,CAAQiD,GAAAA,CAAI,wBAAwBF,MAAAA,CAAOd,UAAAA,CAAWC,kBAAkB,GAAA,EAAKgB,OAAAA,CAAQ,CAAC,CAAC,CAAA,CAAA,CAAG,CAAA;AAC1FlD,IAAAA,OAAAA,CAAQiD,GAAAA,CAAI,CAAA,mBAAA,EAAsBF,MAAAA,CAAOd,UAAAA,CAAWE,QAAQ,CAAA,CAAE,CAAA;AAC9DnC,IAAAA,OAAAA,CAAQiD,GAAAA,CAAI,CAAA,kBAAA,EAAqBF,MAAAA,CAAOd,UAAAA,CAAWG,cAAc,CAAA,CAAE,CAAA;AACnEpC,IAAAA,OAAAA,CAAQmD,QAAAA,EAAQ;AAEhBnD,IAAAA,OAAAA,CAAQgD,MAAM,gBAAgB,CAAA;AAC9BhD,IAAAA,OAAAA,CAAQiD,GAAAA,CAAI,mBAAmBF,MAAAA,CAAOV,MAAAA,CAAOC,cAAcY,OAAAA,CAAQ,CAAC,CAAC,CAAA,EAAA,CAAI,CAAA;AACzElD,IAAAA,OAAAA,CAAQiD,GAAAA,CAAI,qBAAqBF,MAAAA,CAAOV,MAAAA,CAAOE,gBAAgBW,OAAAA,CAAQ,CAAC,CAAC,CAAA,EAAA,CAAI,CAAA;AAC7ElD,IAAAA,OAAAA,CAAQiD,GAAAA,CAAI,oBAAoBF,MAAAA,CAAOV,MAAAA,CAAOG,eAAeU,OAAAA,CAAQ,CAAC,CAAC,CAAA,EAAA,CAAI,CAAA;AAC3ElD,IAAAA,OAAAA,CAAQmD,QAAAA,EAAQ;AAEhBnD,IAAAA,OAAAA,CAAQgD,MAAM,iBAAiB,CAAA;AAC/BhD,IAAAA,OAAAA,CAAQiD,GAAAA,CAAI,CAAA,WAAA,EAAcF,MAAAA,CAAON,MAAAA,CAAOC,QAAQ,CAAA,CAAE,CAAA;AAClD1C,IAAAA,OAAAA,CAAQiD,GAAAA,CAAI,CAAA,WAAA,EAAcF,MAAAA,CAAON,MAAAA,CAAOjB,QAAQ,CAAA,CAAE,CAAA;AAClDxB,IAAAA,OAAAA,CAAQiD,GAAAA,CAAI,CAAA,kBAAA,EAAqBF,MAAAA,CAAON,MAAAA,CAAOE,SAAS,CAAA,CAAE,CAAA;AAC1D3C,IAAAA,OAAAA,CAAQiD,GAAAA,CAAI,CAAA,gBAAA,EAAmBF,MAAAA,CAAON,MAAAA,CAAOG,aAAa,CAAA,CAAE,CAAA;AAC5D5C,IAAAA,OAAAA,CAAQmD,QAAAA,EAAQ;AAEhBnD,IAAAA,OAAAA,CAAQmD,QAAAA,EAAQ;AAAA,EAClB;AAAA;AAAA;AAAA;AAAA,EAKAC,KAAAA,GAAK;AACH,IAAA,IAAA,CAAKlE,QAAQmE,KAAAA;AACb,IAAA,IAAA,CAAKjE,WAAWiE,KAAAA;EAClB;AAAA;AAAA;AAAA;AAAA,EAKA,OAAOC,gBAAAA,CAAiBC,MAAAA,EAA4BC,KAAAA,EAAyB;AAC3ExD,IAAAA,OAAAA,CAAQgD,MAAM,kCAA2B,CAAA;AAEzC,IAAA,IAAIO,MAAAA,CAAOvB,WAAAA,IAAewB,KAAAA,CAAMxB,WAAAA,EAAa;AAC3C,MAAA,MAAMyB,UAAAA,GAAaD,KAAAA,CAAMxB,WAAAA,CAAYtB,cAAAA,GAAiB6C,OAAOvB,WAAAA,CAAYtB,cAAAA;AACzE,MAAA,MAAMgD,IAAAA,GAAOD,UAAAA,GAAa,CAAA,GAAI,GAAA,GAAM,EAAA;AACpCzD,MAAAA,OAAAA,CAAQiD,GAAAA,CAAI,CAAA,eAAA,EAAkBS,IAAI,CAAA,EAAA,CAAID,UAAAA,GAAa,OAAO,IAAA,EAAMP,OAAAA,CAAQ,CAAC,CAAC,CAAA,GAAA,CAAK,CAAA;AAAA,IACjF;AAEA,IAAA,MAAMS,WAAAA,GAAcH,KAAAA,CAAMvB,UAAAA,CAAWC,eAAAA,GAAkBqB,OAAOtB,UAAAA,CAAWC,eAAAA;AACzElC,IAAAA,OAAAA,CAAQiD,GAAAA,CAAI,CAAA,uBAAA,EAA0BU,WAAAA,GAAc,CAAA,GAAI,GAAA,GAAM,EAAE,CAAA,EAAA,CAAIA,WAAAA,GAAc,GAAA,EAAKT,OAAAA,CAAQ,CAAC,CAAC,CAAA,CAAA,CAAG,CAAA;AAEpG,IAAA,MAAMU,UAAAA,GAAa;AAAA,MACjBC,GAAAA,EAAKL,KAAAA,CAAMnB,MAAAA,CAAOC,aAAAA,GAAgBiB,OAAOlB,MAAAA,CAAOC,aAAAA;AAAAA,MAChDwB,IAAAA,EAAMN,KAAAA,CAAMnB,MAAAA,CAAOE,eAAAA,GAAkBgB,OAAOlB,MAAAA,CAAOE,eAAAA;AAAAA,MACnDwB,QAAAA,EAAUP,KAAAA,CAAMnB,MAAAA,CAAOG,cAAAA,GAAiBe,OAAOlB,MAAAA,CAAOG;AAAAA;AAGxDxC,IAAAA,OAAAA,CAAQiD,GAAAA,CAAI,CAAA,gBAAA,EAAmBW,UAAAA,CAAWC,GAAAA,GAAM,CAAA,GAAI,GAAA,GAAM,EAAE,CAAA,EAAGD,UAAAA,CAAWC,GAAAA,CAAIX,OAAAA,CAAQ,CAAC,CAAC,CAAA,EAAA,CAAI,CAAA;AAC5FlD,IAAAA,OAAAA,CAAQiD,GAAAA,CAAI,CAAA,kBAAA,EAAqBW,UAAAA,CAAWE,IAAAA,GAAO,CAAA,GAAI,GAAA,GAAM,EAAE,CAAA,EAAGF,UAAAA,CAAWE,IAAAA,CAAKZ,OAAAA,CAAQ,CAAC,CAAC,CAAA,EAAA,CAAI,CAAA;AAChGlD,IAAAA,OAAAA,CAAQiD,GAAAA,CAAI,CAAA,iBAAA,EAAoBW,UAAAA,CAAWG,QAAAA,GAAW,CAAA,GAAI,GAAA,GAAM,EAAE,CAAA,EAAGH,UAAAA,CAAWG,QAAAA,CAASb,OAAAA,CAAQ,CAAC,CAAC,CAAA,EAAA,CAAI,CAAA;AAEvGlD,IAAAA,OAAAA,CAAQmD,QAAAA,EAAQ;AAAA,EAClB;AACD;AAGM,MAAMa,kBAAAA,GAAqBhF,mBAAmBK,WAAAA;AAG9C,MAAM4E,IAAAA,GAAO;AAAA,EAClBC,KAAAA,EAAQ1E,CAAAA,SAAAA,KAAsBwE,kBAAAA,CAAmBzE,WAAAA,CAAYC,SAAS,CAAA;AAAA,EACtE2E,GAAAA,EAAM3E,CAAAA,SAAAA,KAAsBwE,kBAAAA,CAAmBpE,SAAAA,CAAUJ,SAAS,CAAA;AAAA,EAClE4E,QAAQA,CAAC/D,IAAAA,EAAcC,UAAkB0D,kBAAAA,CAAmB5D,YAAAA,CAAaC,MAAMC,KAAK,CAAA;AAAA,EACpFyC,MAAAA,EAAQA,MAAMiB,kBAAAA,CAAmBvC,SAAAA,EAAS;AAAA,EAC1CwB,GAAAA,EAAKA,MAAMe,kBAAAA,CAAmBlB,SAAAA,EAAS;AAAA,EACvCM,KAAAA,EAAOA,MAAMY,kBAAAA,CAAmBZ,KAAAA;;;;;;;;;;"}