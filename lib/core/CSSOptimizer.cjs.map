{"version":3,"file":"CSSOptimizer.cjs","sources":["../../src/core/CSSOptimizer.ts"],"sourcesContent":[null],"names":["CSSOptimizer","initializeTemplates","isInitialized","CSS_TEMPLATE","set","i","getCachedValues","baseSize","cacheKey","toString","cached","VALUE_CACHE","get","multipliers","Uint16Array","length","Math","round","size","firstKey","keys","next","value","delete","compressCSS","css","replace","trim","generateOptimizedCSS","precomputedValues","precomputeValues","parts","push","toFixed","appendSizeVariables","appendFontVariables","appendSpacingVariables","join","cache","Map","mult","values","sizeMap","num","fontMap","name","headingMap","spacingMap","generateMinifiedCSS","estimateMemoryUsage","compareMemoryUsage","originalCSS","optimizedCSS","originalSize","optimizedSize","saved","percentage","console","info"],"mappings":"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"}