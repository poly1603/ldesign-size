{"version":3,"file":"MemoryAnalyzer.cjs","sources":["../../src/core/MemoryAnalyzer.ts"],"sourcesContent":[null],"names":["MemoryAnalyzer","estimateString","str","SIZES","STRING_HEADER","length","estimateObject","obj","size","OBJECT_HEADER","key","Object","prototype","hasOwnProperty","call","estimateValue","POINTER","estimateArray","arr","ARRAY_HEADER","capacity","Math","ceil","item","estimateMap","map","MAP_ENTRY","forEach","value","estimateSet","set","SET_ENTRY","estimateFunction","fn","FUNCTION_CLOSURE","fnString","toString","undefined","type","NUMBER","BOOLEAN","Array","isArray","Map","Set","WeakMap","WeakSet","analyzeSizeClass","estimates","push","variable","sizeInBytes","description","optimization","analyzeSizeManager","repeat","name","baseSize","analyzeStringConcatenation","operations","intermediateStrings","avgStringSize","generateOptimizationReport","sizeEstimates","managerEstimates","report","totalSize","estimate","toFixed","monitorMemory","window","performance","memory","console","table","usedJSHeapSize","totalJSHeapSize","jsHeapSizeLimit","WEAKMAP_ENTRY","UNDEFINED","NULL","memoryAnalyzer","analyzeSize","analyzeManager","monitor"],"mappings":"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"}